(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"a":"goit-react-hw-05-movies"}')},15:function(e,t,r){e.exports={_nav:"Navigation__nav__3bsi8",_link:"Navigation__link__UAz3_",_activeLink:"Navigation__activeLink__3JKDl"}},17:function(e,t,r){e.exports={_goBackButton:"FilmInfo__goBackButton__2ajhQ",_infoSection:"FilmInfo__infoSection__35vGL",_imageWrapper:"FilmInfo__imageWrapper__2tNs2",_posterImage:"FilmInfo__posterImage__3fXUY"}},18:function(e,t,r){e.exports={_filmList:"FilmList__filmList__3W2mF",_filmLink:"FilmList__filmLink__nP15H"}},23:function(e,t,r){e.exports={_autorName:"Reviews__autorName__1jflS",_autorLink:"Reviews__autorLink__ACb82"}},24:function(e,t,r){e.exports={_searchInput:"SearchBox__searchInput__1O67z",_searchButton:"SearchBox__searchButton__2VMyP"}},41:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(34),s=r.n(c),i=r(10),o=(r(41),r(3)),u=r(2),l=r.n(u),j=r(5),p=r(11),h=r(18),b=r.n(h),d=r(0);var v=function(e){var t=e.films,r=Object(o.g)().url;return Object(d.jsx)("ul",{className:b.a._filmList,children:t.map((function(e){return Object(d.jsx)("li",{className:b.a._filmItem,children:Object(d.jsx)(i.b,{to:r+"movies/"+e.id,className:b.a._filmLink,children:e.title})},e.id)}))})},f=r(13),x=r.n(f);x.a.defaults.baseURL="https://api.themoviedb.org/3/",x.a.defaults.params={api_key:"8948cf34f147d17edd39edcb74badce4",language:"en-US"};var O=function(){var e=Object(j.a)(l.a.mark((function e(){var t,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"week",e.next=3,x.a.get("/trending/movie/".concat(t),{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(l.a.mark((function e(t){var r,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:1,e.next=3,x.a.get("/search/movie",{params:{query:t,page:r,include_adult:!1}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/movie/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/movie/".concat(t,"/credits"),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(l.a.mark((function e(t){var r,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:1,e.next=3,x.a.get("/movie/".concat(t,"/reviews"),{params:{page:r}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=function(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:if(200!==(t=e.sent).status){e.next=9;break}console.dir(t.data.results),a(t.data.results),e.next=10;break;case 9:throw new Error("Error - "+t.status);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("rejected   "+e.t0.message),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Trending today"}),r&&Object(d.jsx)(v,{films:r})]})},N=r(17),y=r.n(N);var S=function(e){var t=e.cast;if(t)return Object(d.jsx)("div",{children:Object(d.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.name,n=e.character,a=e.profile_path;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/w300"+a,alt:r+" as "+n,width:"100px"}),Object(d.jsxs)("li",{children:[Object(d.jsx)("p",{children:r}),Object(d.jsx)("p",{children:n})]},t)]})}))})})};var L=function(e){var t=e.comment;return t?t.map((function(e,t){return console.log(e),Object(d.jsx)("p",{children:e},t)})):Object(d.jsx)("h3",{children:"no comments"})},F=r(23),I=r.n(F);var B=function(e){var t=e.reviews;return e.page,t?Object(d.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.author,n=e.content,a=e.url,c=n.split("\r\n\r\n");return console.dir(c),Object(d.jsxs)("li",{children:[Object(d.jsxs)("p",{className:I.a._autorName,children:["Author:",Object(d.jsxs)("a",{href:a,className:I.a._autorLink,children:[" ",r," "]})]}),Object(d.jsx)(L,{comment:c})]},t)}))}):Object(d.jsx)("h3",{children:"We don't have any reviews for this movie."})};var E=function(e){e.block;var t=e.blockData;if(!t)return Object(d.jsx)("h3",{children:"loading..."});var r=t.cast,n=void 0===r?[]:r,a=t.results,c=void 0===a?[]:a,s=t.page,i=void 0===s?1:s;return n.length>0?Object(d.jsx)(S,{cast:n}):c.length>0?Object(d.jsx)(B,{reviews:c,page:i}):Object(d.jsx)("h3",{children:"We don't have any reviews for this movie."})};var C=function(e){var t=e.film,r=Object(n.useState)(null),a=Object(p.a)(r,2),c=a[0],s=a[1],o=Object(n.useState)(null),u=Object(p.a)(o,2),h=u[0],b=u[1];function v(e){e.preventDefault();var t=e.target.innerText.toLowerCase();c&&c===t?c!==t||s(null):s(t)}if(Object(n.useEffect)((function(){if(!t)return Object(d.jsx)("h1",{children:"loading..."});var e=t.id;function r(){return r=Object(j.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"cast"!==r){t.next=7;break}return t.next=4,g(e);case 4:case 10:n=t.sent,t.next=15;break;case 7:if("reviews"!==r){t.next=13;break}return t.next=10,k(e);case 13:return b(null),t.abrupt("return");case 15:if(200!==n.status){t.next=19;break}b(n.data),t.next=20;break;case 19:throw new Error("Error - "+n.status);case 20:t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(0),console.log("rejected   "+t.t0.message),t.abrupt("return",null);case 26:case"end":return t.stop()}}),t,null,[[0,22]])}))),r.apply(this,arguments)}!function(e){r.apply(this,arguments)}(c)}),[t,c]),!t)return Object(d.jsx)("h1",{children:"loading..."});var f=t.id,x=t.title,O=t.poster_path,m=t.popularity,_=t.overview,w=t.genres,N=t.release_date.split("-")[0];console.log(N);var S=w.map((function(e){return e.name})).join(", ");return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:y.a._goBackButton,children:" Go Back"}),Object(d.jsxs)("section",{className:y.a._infoSection,children:[Object(d.jsx)("h1",{className:"visually-hidden",children:"Film info"}),Object(d.jsx)("div",{className:y.a._imageWrapper,children:Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+O,alt:x,className:y.a._posterImage})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"".concat(x," (").concat(N,")")}),Object(d.jsxs)("p",{children:["User Score: ",m.toFixed(0)," %"]}),Object(d.jsx)("h3",{children:"Overview"}),Object(d.jsx)("p",{children:_}),Object(d.jsx)("h4",{children:"Genres"}),Object(d.jsx)("p",{children:S})]})]},f),Object(d.jsx)("hr",{}),Object(d.jsxs)("section",{children:[Object(d.jsx)("h1",{children:"Additional information"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"++/cast",onClick:v,children:"Cast"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"++/reviews",onClick:v,children:"Reviews"})})]})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("section",{children:c&&Object(d.jsx)(E,{block:c,blockData:h})})]})},A=r(24),W=r.n(A);var D=function(e){var t=e.onSearch;return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"",children:Object(d.jsx)("input",{type:"text",className:W.a._searchInput,placeholder:"Film name"})}),Object(d.jsx)("button",{className:W.a._searchButton,onClick:t,children:"Search"})]})};var U=function(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!0),s=Object(p.a)(c,2),i=s[0],o=(s[1],Object(n.useState)("")),u=Object(p.a)(o,2),h=u[0],b=u[1];return Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,r,n,c,s,i,o,u,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(604);case 3:if(200!==(t=e.sent).status){e.next=9;break}r=t.data,n=r.id,c=r.title,s=r.poster_path,i=r.popularity,o=r.overview,u=r.genres,j=r.release_date,a({id:n,title:c,poster_path:s,popularity:i,overview:o,genres:u,release_date:j}),e.next=10;break;case 9:throw new Error("Error - "+t.status);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("rejected   "+e.t0.message),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(h,1);case 3:t=e.sent,console.dir(t),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("rejected   "+e.t0.message),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}h&&function(){e.apply(this,arguments)}()}),[h]),i?Object(d.jsx)(D,{onSearch:function(e){b(e)}}):Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(C,{film:r})})};var J=function(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),r=t[0],a=t[1],c=Object(o.f)().movieId;return Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,r,n,s,i,o,u,j,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(c);case 3:if(200!==(t=e.sent).status){e.next=9;break}r=t.data,n=r.id,s=r.title,i=r.poster_path,o=r.popularity,u=r.overview,j=r.genres,p=r.release_date,a({id:n,title:s,poster_path:i,popularity:o,overview:u,genres:j,release_date:p}),e.next=10;break;case 9:throw new Error("Error - "+t.status);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("rejected   "+e.t0.message),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),Object(d.jsx)("div",{className:"container",children:c&&Object(d.jsx)(C,{film:r})})},P=r(15),R=r.n(P),T=r(12);var G=function(){var e=Object(o.g)().url;return Object(d.jsxs)("nav",{className:R.a._nav,children:[Object(d.jsx)(i.c,{exact:!0,to:e+T.a+"/",className:R.a._link,activeClassName:R.a._activeLink,children:"Home"}),Object(d.jsx)(i.c,{to:e+T.a+"/movies",className:R.a._link,activeClassName:R.a._activeLink,children:"Movies"})]})};var M=function(){return Object(d.jsx)("h1",{children:"404 No such page :("})};var z=function(){var e=Object(o.g)().url;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App-header",children:Object(d.jsx)(G,{})}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:e+T.a+"/",exact:!0,children:Object(d.jsx)(w,{})}),Object(d.jsx)(o.a,{path:e+T.a+"/movies/:movieId",children:Object(d.jsx)(J,{})}),Object(d.jsx)(o.a,{path:e+T.a+"/movies",children:Object(d.jsx)(U,{})}),Object(d.jsx)(o.a,{path:e+T.a+"/",children:Object(d.jsx)(M,{})})]})]})},H=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,69)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(z,{})})}),document.getElementById("root")),H()}},[[68,1,2]]]);
//# sourceMappingURL=main.a728b0ac.chunk.js.map