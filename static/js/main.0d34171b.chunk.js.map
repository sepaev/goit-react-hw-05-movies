{"version":3,"sources":["components/Navigation/Navigation.module.css","components/FilmInfo/FilmInfo.module.css","components/FilmList/FilmList.module.css","components/Reviews/Reviews.module.css","components/SearchBox/SearchBox.module.css","components/FilmList/FilmList.jsx","services/api.js","views/HomeView.js","components/Cast/Cast.jsx","components/Comment/Comment.jsx","components/Reviews/Reviews.jsx","components/ShowBlock/ShowBlock.jsx","components/FilmInfo/FilmInfo.jsx","components/SearchBox/SearchBox.jsx","views/MoviesView.js","components/Navigation/Navigation.jsx","views/NotFoundView.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","FilmList","films","url","useRouteMatch","className","css","_filmList","map","film","_filmItem","to","id","_filmLink","title","axios","defaults","baseURL","params","api_key","language","fetchTrandingMovies","a","timeWindow","get","fetchMoviesByName","query","page","include_adult","fetchMoviesById","fetchActorsByMovieId","fetchReviewsByMovieId","HomeView","useState","setFilms","useEffect","response","status","console","dir","data","results","Error","log","message","fetchData","Cast","cast","name","character","profile_path","src","alt","width","Comment","comment","phrase","index","Reviews","reviews","author","content","split","_autorName","href","_autorLink","ShowBlock","block","blockData","length","FilmInfo","setBlock","setBlockData","changeBlock","e","preventDefault","blockName","target","innerText","toLowerCase","poster_path","popularity","overview","genres","year","release_date","genresString","join","_goBackButton","_infoSection","_imageWrapper","_posterImage","toFixed","onClick","SearchBox","onSearch","htmlFor","type","_searchInput","placeholder","_searchButton","MovieView","setFilm","searchMode","setQuery","Navigation","_nav","exact","_link","activeClassName","_activeLink","NotFoundView","App","path","MoviesView","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d34171b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"_nav\":\"Navigation__nav__3bsi8\",\"_link\":\"Navigation__link__UAz3_\",\"_activeLink\":\"Navigation__activeLink__3JKDl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_goBackButton\":\"FilmInfo__goBackButton__2ajhQ\",\"_infoSection\":\"FilmInfo__infoSection__35vGL\",\"_imageWrapper\":\"FilmInfo__imageWrapper__2tNs2\",\"_posterImage\":\"FilmInfo__posterImage__3fXUY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_filmList\":\"FilmList__filmList__3W2mF\",\"_filmLink\":\"FilmList__filmLink__nP15H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_autorName\":\"Reviews__autorName__1jflS\",\"_autorLink\":\"Reviews__autorLink__ACb82\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_searchInput\":\"SearchBox__searchInput__1O67z\",\"_searchButton\":\"SearchBox__searchButton__2VMyP\"};","import { Link, useRouteMatch } from 'react-router-dom';\r\nimport css from './FilmList.module.css';\r\n\r\nfunction FilmList({ films }) {\r\n  const { url } = useRouteMatch();\r\n  return (\r\n    <ul className={css._filmList}>\r\n      {films.map(film => (\r\n        <li key={film.id} className={css._filmItem}>\r\n          <Link to={url + '/movies/' + film.id} className={css._filmLink}>\r\n            {film.title}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default FilmList;\r\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '8948cf34f147d17edd39edcb74badce4';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = { api_key: API_KEY, language: 'en-US' };\n\n////////////// TRANDING\n// https://api.themoviedb.org/3/trending/movie/{timeWindow}?api_key={api_key}\n// time_window - day/week\nexport const fetchTrandingMovies = async (timeWindow = 'week') => {\n  return await axios.get(`/trending/movie/${timeWindow}`, {});\n};\n\n////////////// SEARCH\n// https://api.themoviedb.org/3/search/movie?api_key={api_key}&language=en-US&query={query}&page={page}&include_adult=false\n// query\n// page\nexport const fetchMoviesByName = async (query, page = 1) => {\n  return await axios.get('/search/movie', {\n    params: {\n      query,\n      page,\n      include_adult: false,\n    },\n  });\n};\n\n////////////// FILM INFO\n// https://api.themoviedb.org/3/movie/{movie_id}?api_key={api_key}&language=en-US\n// movie_id\nexport const fetchMoviesById = async id => {\n  return await axios.get(`/movie/${id}`, {});\n};\n\n////////////// ACTORS\n// https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key={api_key}&language=en-US\n// movie_id\nexport const fetchActorsByMovieId = async id => {\n  return await axios.get(`/movie/${id}/credits`, {});\n};\n\n////////////// FILM REVIEWS\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key={api_key}&language=en-US&page=1\n// movie_id\n// page\nexport const fetchReviewsByMovieId = async (id, page = 1) => {\n  return await axios.get(`/movie/${id}/reviews`, {\n    params: {\n      page,\n    },\n  });\n};\n","import { useEffect, useState } from 'react';\r\nimport FilmList from '../components/FilmList/FilmList';\r\nimport { fetchTrandingMovies } from '../services/api';\r\n\r\nfunction HomeView() {\r\n  const [films, setFilms] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const response = await fetchTrandingMovies();\r\n        if (response.status === 200) {\r\n          console.dir(response.data.results);\r\n          setFilms(response.data.results);\r\n          //   return response.data;\r\n        } else {\r\n          throw new Error('Error - ' + response.status);\r\n        }\r\n      } catch (error) {\r\n        console.log('rejected   ' + error.message);\r\n        return null;\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='container'>\r\n      <h1>Trending today</h1>\r\n      {films && <FilmList films={films} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeView;\r\n","function Cast({ cast }) {\r\n  if (!cast) return;\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {cast.map(({ id, name, character, profile_path }) => {\r\n          return (\r\n            <>\r\n              <img\r\n                src={'https://image.tmdb.org/t/p/w300' + profile_path}\r\n                alt={name + ' as ' + character}\r\n                width='100px'\r\n              />\r\n              <li key={id}>\r\n                <p>{name}</p>\r\n                <p>{character}</p>\r\n              </li>\r\n            </>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cast;\r\n","function Comment({ comment }) {\r\n  if (!comment) return <h3>no comments</h3>;\r\n  return comment.map((phrase, index) => {\r\n    console.log(phrase);\r\n    return <p key={index}>{phrase}</p>;\r\n  });\r\n}\r\n\r\nexport default Comment;\r\n","import Comment from '../Comment';\r\nimport css from './Reviews.module.css';\r\n\r\nfunction Reviews({ reviews, page }) {\r\n  if (!reviews) return <h3>We don't have any reviews for this movie.</h3>;\r\n  return (\r\n    <ul>\r\n      {reviews.map(({ id, author, content, url }) => {\r\n        const comment = content.split('\\r\\n\\r\\n');\r\n        console.dir(comment);\r\n        return (\r\n          <li key={id}>\r\n            <p className={css._autorName}>\r\n              Author:\r\n              <a href={url} className={css._autorLink}>\r\n                {' '}\r\n                {author}{' '}\r\n              </a>\r\n            </p>\r\n            <Comment comment={comment} />\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default Reviews;\r\n","import Cast from '../Cast';\r\nimport Reviews from '../Reviews';\r\n\r\nfunction ShowBlock({ block, blockData }) {\r\n  if (!blockData) return <h3>loading...</h3>;\r\n  const { cast = [], results = [], page = 1 } = blockData;\r\n  if (cast.length > 0) return <Cast cast={cast} />;\r\n  if (results.length > 0) return <Reviews reviews={results} page={page} />;\r\n  return <h3>loading...</h3>;\r\n}\r\n\r\nexport default ShowBlock;\r\n","import css from './FilmInfo.module.css';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchActorsByMovieId, fetchReviewsByMovieId } from '../../services/api';\r\nimport ShowBlock from '../ShowBlock';\r\n\r\nfunction FilmInfo({ film }) {\r\n  const [block, setBlock] = useState(null);\r\n  const [blockData, setBlockData] = useState(null);\r\n\r\n  function changeBlock(e) {\r\n    e.preventDefault();\r\n    const blockName = e.target.innerText.toLowerCase();\r\n    if (!block || block !== blockName) {\r\n      setBlock(blockName);\r\n      return;\r\n    }\r\n    if (block === blockName) {\r\n      setBlock(null);\r\n      return;\r\n    }\r\n  }\r\n  function getYear(dateString) {\r\n    return dateString.split('-')[0];\r\n  }\r\n  useEffect(() => {\r\n    if (!film) return <h1>loading...</h1>;\r\n    const { id } = film;\r\n\r\n    async function fetchData(block) {\r\n      try {\r\n        let response;\r\n        if (block === 'cast') {\r\n          response = await fetchActorsByMovieId(id);\r\n        } else if (block === 'reviews') {\r\n          response = await fetchReviewsByMovieId(id);\r\n        } else {\r\n          setBlockData(null);\r\n          return;\r\n        }\r\n        if (response.status === 200) {\r\n          setBlockData(response.data);\r\n        } else {\r\n          throw new Error('Error - ' + response.status);\r\n        }\r\n      } catch (error) {\r\n        console.log('rejected   ' + error.message);\r\n        return null;\r\n      }\r\n    }\r\n    fetchData(block);\r\n  }, [film, block]);\r\n\r\n  if (!film) return <h1>loading...</h1>;\r\n  const { id, title, poster_path, popularity, overview, genres, release_date } = film;\r\n  const year = getYear(release_date);\r\n  console.log(year);\r\n  const genresString = genres.map(({ name }) => name).join(', ');\r\n\r\n  return (\r\n    <div>\r\n      <button className={css._goBackButton}> Go Back</button>\r\n      <section key={id} className={css._infoSection}>\r\n        <h1 className='visually-hidden'>Film info</h1>\r\n        <div className={css._imageWrapper}>\r\n          <img src={'https://image.tmdb.org/t/p/w500' + poster_path} alt={title} className={css._posterImage} />\r\n        </div>\r\n        <div>\r\n          <h2>{`${title} (${year})`}</h2>\r\n          <p>User Score: {popularity.toFixed(0)} %</p>\r\n          <h3>Overview</h3>\r\n          <p>{overview}</p>\r\n          <h4>Genres</h4>\r\n          <p>{genresString}</p>\r\n        </div>\r\n      </section>\r\n      <hr />\r\n      <section>\r\n        <h1>Additional information</h1>\r\n        <ul>\r\n          <li>\r\n            <Link to='++/cast' onClick={changeBlock}>\r\n              Cast\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link to='++/reviews' onClick={changeBlock}>\r\n              Reviews\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </section>\r\n      <hr />\r\n      <section>{block && <ShowBlock block={block} blockData={blockData} />}</section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilmInfo;\r\n","import css from './SearchBox.module.css';\r\n\r\nfunction SearchBox({ onSearch }) {\r\n  return (\r\n    <div>\r\n      <label htmlFor=''>\r\n        <input type='text' className={css._searchInput} placeholder='Film name' />\r\n      </label>\r\n      <button className={css._searchButton} onClick={onSearch}>\r\n        Search\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBox;\r\n","import { useEffect, useState } from 'react';\r\nimport FilmInfo from '../components/FilmInfo';\r\nimport SearchBox from '../components/SearchBox';\r\nimport { fetchMoviesById, fetchMoviesByName } from '../services/api';\r\n\r\nfunction MovieView() {\r\n  const [film, setFilm] = useState(null);\r\n  const [searchMode, setSearchMode] = useState(true);\r\n  const [query, setQuery] = useState('');\r\n  function onSearch(query) {\r\n    setQuery(query);\r\n  }\r\n  const newFilmId = 604;\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const response = await fetchMoviesById(newFilmId);\r\n        if (response.status === 200) {\r\n          const { id, title, poster_path, popularity, overview, genres, release_date } = response.data;\r\n          //   console.dir(response.data);\r\n          setFilm({ id, title, poster_path, popularity, overview, genres, release_date });\r\n        } else {\r\n          throw new Error('Error - ' + response.status);\r\n        }\r\n      } catch (error) {\r\n        console.log('rejected   ' + error.message);\r\n        return null;\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!query) return;\r\n    async function fetchData() {\r\n      try {\r\n        const response = await fetchMoviesByName(query, 1);\r\n        console.dir(response);\r\n        // if (response.status === 200) {\r\n        //   //   const { id, title, poster_path, popularity, overview, genres, release_date } = response.data;\r\n        //   console.dir(response.data);\r\n        //   //   setFilm({ id, title, poster_path, popularity, overview, genres, release_date });\r\n        // } else {\r\n        //   throw new Error('Error - ' + response.status);\r\n        // }\r\n      } catch (error) {\r\n        console.log('rejected   ' + error.message);\r\n        return null;\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [query]);\r\n\r\n  if (searchMode) return <SearchBox onSearch={onSearch} />;\r\n  return <div className='container'>{newFilmId && <FilmInfo film={film} />}</div>;\r\n}\r\n\r\nexport default MovieView;\r\n","import { NavLink, useRouteMatch } from 'react-router-dom';\r\nimport css from './Navigation.module.css';\r\n\r\nfunction Navigation() {\r\n  const { url } = useRouteMatch();\r\n  return (\r\n    <nav className={css._nav}>\r\n      <NavLink exact to={url + '/'} className={css._link} activeClassName={css._activeLink}>\r\n        Home\r\n      </NavLink>\r\n      <NavLink to={url + '/movies'} className={css._link} activeClassName={css._activeLink}>\r\n        Movies\r\n      </NavLink>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","function NotFoundView() {\r\n  return <h1>404 No such page :(</h1>;\r\n}\r\n\r\nexport default NotFoundView;\r\n","import { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport HomeView from './views/HomeView';\nimport MoviesView from './views/MoviesView';\nimport Navigation from './components/Navigation';\nimport NotFoundView from './views/NotFoundView';\n\nfunction App() {\n  const { url } = useRouteMatch();\n  return (\n    <div className='App'>\n      <header className='App-header'>\n        <Navigation />\n      </header>\n      <Switch>\n        <Route path={url + '/'} exact>\n          <HomeView />\n        </Route>\n        <Route path={url + '/movies'}>\n          <MoviesView />\n        </Route>\n        <Route path={url + '/'}>\n          <NotFoundView />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}