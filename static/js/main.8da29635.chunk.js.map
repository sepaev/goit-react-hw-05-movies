{"version":3,"sources":["components/Navigation/Navigation.module.css","components/FilmInfo/FilmInfo.module.css","components/FilmList/FilmList.module.css","components/SearchBox/SearchBox.module.css","components/Reviews/Reviews.module.css","components/FilmList/FilmList.jsx","services/api.js","views/HomeView.js","components/SearchBox/SearchBox.jsx","components/SearchList/SearchList.jsx","views/MoviesView.js","images/no-image-available.png","components/Cast/Cast.jsx","components/Comment/Comment.jsx","components/Reviews/Reviews.jsx","components/FilmInfo/FilmInfo.jsx","views/NotFoundView.js","views/MovieInfoView.js","components/Navigation/Navigation.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","FilmList","films","pathBack","className","css","_filmList","map","film","_filmItem","to","pathname","id","pathback","_filmLink","title","axios","defaults","baseURL","params","api_key","language","fetchTrandingMovies","a","timeWindow","get","fetchMoviesByName","query","page","include_adult","fetchMoviesById","fetchActorsByMovieId","fetchReviewsByMovieId","HomeView","useState","setFilms","useEffect","response","status","data","results","Error","console","log","message","fetchData","SearchBox","onSearch","setQuery","onClick","htmlFor","type","onChange","e","target","value","onKeyDown","code","_searchInput","placeholder","_searchButton","SearchList","length","MoviesView","setResponse","history","useHistory","location","useLocation","historyQuery","URLSearchParams","search","search_query","total_pages","total_results","push","Cast","cast","name","character","profile_path","imgLink","nophoto","src","alt","width","Comment","comment","phrase","index","Reviews","reviews","author","content","url","split","_autorName","href","_autorLink","FilmInfo","block","setBlock","blockData","setBlockData","back","setBack","useRouteMatch","localBlock","arr","pathnameEnd","getPathBlock","changeBlock","preventDefault","blockName","innerText","toLowerCase","join","poster_path","popularity","overview","genres","year","release_date","genresString","_goBackButton","_infoSection","_imageWrapper","_posterImage","toFixed","path","NotFoundView","MovieInfoView","setFilm","noPage","setNoPage","filmId","useParams","movieId","parseInt","toString","getPathBack","Navigation","_nav","exact","_link","activeClassName","_activeLink","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8da29635.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"_nav\":\"Navigation__nav__3bsi8\",\"_link\":\"Navigation__link__UAz3_\",\"_activeLink\":\"Navigation__activeLink__3JKDl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_goBackButton\":\"FilmInfo__goBackButton__2ajhQ\",\"_infoSection\":\"FilmInfo__infoSection__35vGL\",\"_imageWrapper\":\"FilmInfo__imageWrapper__2tNs2\",\"_posterImage\":\"FilmInfo__posterImage__3fXUY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_filmList\":\"FilmList__filmList__3W2mF\",\"_filmLink\":\"FilmList__filmLink__nP15H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_searchInput\":\"SearchBox__searchInput__1O67z\",\"_searchButton\":\"SearchBox__searchButton__2VMyP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"_autorName\":\"Reviews__autorName__1jflS\",\"_autorLink\":\"Reviews__autorLink__ACb82\"};","import PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport css from './FilmList.module.css';\r\n\r\n// function FilmList({ films, backFunc, response }) {\r\nfunction FilmList({ films, pathBack = '/' }) {\r\n  return (\r\n    <ul className={css._filmList}>\r\n      {films.map(film => (\r\n        <li key={film.id} className={css._filmItem}>\r\n          <Link to={{ pathname: 'movies/' + film.id, pathback: pathBack }} className={css._filmLink}>\r\n            {film.title}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default FilmList;\r\n\r\nFilmList.propTypes = {\r\n  films: PropTypes.array,\r\n  pathBack: PropTypes.string,\r\n};\r\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '8948cf34f147d17edd39edcb74badce4';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = { api_key: API_KEY, language: 'en-US' };\n\n////////////// TRANDING\nexport const fetchTrandingMovies = async (timeWindow = 'day') => {\n  return await axios.get(`/trending/movie/${timeWindow}`);\n};\n\n////////////// SEARCH\nexport const fetchMoviesByName = async (query, page = 1) => {\n  return await axios.get('/search/movie', {\n    params: {\n      query,\n      page,\n      include_adult: false,\n    },\n  });\n};\n\n////////////// FILM INFO\nexport const fetchMoviesById = async id => {\n  return await axios.get(`/movie/${id}`);\n};\n\n////////////// ACTORS\nexport const fetchActorsByMovieId = async id => {\n  return await axios.get(`/movie/${id}/credits`);\n};\n\n////////////// FILM REVIEWS\nexport const fetchReviewsByMovieId = async (id, page = 1) => {\n  return await axios.get(`/movie/${id}/reviews`, {\n    params: {\n      page,\n    },\n  });\n};\n","import { useEffect, useState } from 'react';\r\nimport FilmList from '../components/FilmList/FilmList';\r\nimport { fetchTrandingMovies } from '../services/api';\r\n\r\nfunction HomeView() {\r\n  const [films, setFilms] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const response = await fetchTrandingMovies();\r\n        if (response.status === 200) {\r\n          setFilms(response.data.results);\r\n        } else {\r\n          throw new Error('Error - ' + response.status);\r\n        }\r\n      } catch (error) {\r\n        console.log('rejected   ' + error.message);\r\n        return null;\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className='container'>\r\n      <h1>Trending today</h1>\r\n      {films && <FilmList films={films} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeView;\r\n","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport css from './SearchBox.module.css';\r\n\r\nfunction SearchBox({ onSearch }) {\r\n  const [query, setQuery] = useState('');\r\n  function onChange(e) {\r\n    setQuery(e.target.value);\r\n  }\r\n  function onKeyDown(e) {\r\n    if (e.code === 'Enter') onClick();\r\n  }\r\n\r\n  function onClick() {\r\n    onSearch(query);\r\n    setQuery('');\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <label htmlFor=''>\r\n        <input\r\n          type='text'\r\n          onChange={onChange}\r\n          onKeyDown={onKeyDown}\r\n          className={css._searchInput}\r\n          value={query}\r\n          placeholder='Film name'\r\n        />\r\n      </label>\r\n      <button className={css._searchButton} onClick={onClick}>\r\n        Search\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBox;\r\n\r\nSearchBox.propTypes = {\r\n  onSearch: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport FilmList from '../FilmList';\r\n\r\nfunction SearchList({ films, response, pathBack }) {\r\n  if (!films) return <h2>loading...</h2>;\r\n  return (\r\n    <div className='container'>\r\n      <h1>Search result</h1>\r\n      {films && <FilmList films={films} pathBack={pathBack} response={response} />}\r\n      {films.length === 0 && <h2>Not found. Please search another film.</h2>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchList;\r\n\r\nSearchList.propTypes = {\r\n  films: PropTypes.array,\r\n  response: PropTypes.object,\r\n  pathBack: PropTypes.string,\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport SearchBox from '../components/SearchBox';\r\nimport { fetchMoviesByName } from '../services/api';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport SearchList from '../components/SearchList';\r\n\r\nfunction MoviesView() {\r\n  const [query, setQuery] = useState('');\r\n  const [films, setFilms] = useState(null);\r\n  const [response, setResponse] = useState(null);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const historyQuery = new URLSearchParams(location.search).get('query');\r\n\r\n  function onSearch(query) {\r\n    setQuery(query);\r\n    setResponse(null);\r\n  }\r\n  const search_query = query ? query : historyQuery;\r\n\r\n  useEffect(() => {\r\n    if (!search_query) return;\r\n    if (response && response.search_query === search_query) return;\r\n    async function fetchData() {\r\n      try {\r\n        const response = await fetchMoviesByName(search_query, 1);\r\n        if (response.status === 200) {\r\n          const { page, total_pages, results, total_results } = response.data;\r\n          setResponse({ page, total_pages, total_results, search_query });\r\n          setFilms(results);\r\n          history.push({ ...location, search: `query=${search_query}` });\r\n        } else {\r\n          throw new Error('Error - ' + response.status);\r\n        }\r\n      } catch (error) {\r\n        console.log('rejected   ' + error.message);\r\n        setResponse(null);\r\n        setFilms(null);\r\n        return null;\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [history, location, response, search_query]);\r\n\r\n  function getPathBack() {\r\n    return '/movies?query=' + historyQuery;\r\n  }\r\n  return (\r\n    <>\r\n      <SearchBox onSearch={onSearch} />\r\n      {historyQuery && <SearchList films={films} response={response} pathBack={getPathBack()} />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MoviesView;\r\n","export default __webpack_public_path__ + \"static/media/no-image-available.ae2f3efe.png\";","import PropTypes from 'prop-types';\r\nimport { Fragment } from 'react';\r\nimport nophoto from '../../images/no-image-available.png';\r\nfunction Cast({ cast }) {\r\n  if (!cast) return <h3>loading...</h3>;\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {cast.map(({ id, name, character, profile_path }) => {\r\n          const imgLink = profile_path ? 'https://image.tmdb.org/t/p/w300' + profile_path : nophoto;\r\n          return (\r\n            <Fragment key={id + '_0'}>\r\n              <img src={imgLink} alt={name + ' as ' + character} width='100px' key={id + '_1'} />\r\n              <li key={id + '_2'}>\r\n                <p key={id + '_3'}>{name}</p>\r\n                <p key={id + '_4'}>{character}</p>\r\n              </li>\r\n            </Fragment>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cast;\r\n\r\nCast.propTypes = {\r\n  cast: PropTypes.array,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nfunction Comment({ comment }) {\r\n  if (!comment) return <h3>no comments</h3>;\r\n  return comment.map((phrase, index) => {\r\n    return <p key={index}>{phrase}</p>;\r\n  });\r\n}\r\n\r\nexport default Comment;\r\n\r\nComment.propTypes = {\r\n  cast: PropTypes.array,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport Comment from '../Comment';\r\nimport css from './Reviews.module.css';\r\n\r\nfunction Reviews({ reviews, page }) {\r\n  if (!reviews || reviews.length < 1) return <h3>We don't have any reviews for this movie.</h3>;\r\n  return (\r\n    <ul>\r\n      {reviews.map(({ id, author, content, url }) => {\r\n        const comment = content.split('\\r\\n\\r\\n');\r\n        return (\r\n          <li key={id}>\r\n            <p className={css._autorName}>\r\n              Author:\r\n              <a href={url} className={css._autorLink}>\r\n                {' '}\r\n                {author}{' '}\r\n              </a>\r\n            </p>\r\n            <Comment comment={comment} />\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default Reviews;\r\n\r\nReviews.propTypes = {\r\n  reviews: PropTypes.array,\r\n  page: PropTypes.number,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport css from './FilmInfo.module.css';\r\nimport { useEffect, useState } from 'react';\r\nimport { useHistory, Route, useRouteMatch, useLocation } from 'react-router-dom';\r\nimport { fetchActorsByMovieId, fetchReviewsByMovieId } from '../../services/api';\r\nimport Cast from '../Cast';\r\nimport Reviews from '../Reviews';\r\n\r\nfunction FilmInfo({ film, pathBack }) {\r\n  const [block, setBlock] = useState(null);\r\n  const [blockData, setBlockData] = useState({ cast: [], results: [], page: 1 });\r\n  const [back, setBack] = useState('/');\r\n  const { url } = useRouteMatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  if (pathBack && pathBack !== back) setBack(pathBack);\r\n  let localBlock = getPathBlock();\r\n  if (localBlock !== block) setBlock(localBlock);\r\n  function getPathBlock() {\r\n    const arr = location.pathname.split('/');\r\n    const pathnameEnd = arr[arr.length - 1];\r\n    return pathnameEnd === 'cast' || pathnameEnd === 'reviews' ? pathnameEnd : '';\r\n  }\r\n  function goBack() {\r\n    history.push(back);\r\n  }\r\n\r\n  function changeBlock(e) {\r\n    e.preventDefault();\r\n    const blockName = e.target.innerText.toLowerCase();\r\n    if (!block || block !== blockName) {\r\n      setBlock(blockName);\r\n      history.push((url + '/' + blockName).split('//').join('/'));\r\n      return;\r\n    }\r\n    if (block === blockName) {\r\n      setBlock(null);\r\n      history.push(history.location.pathname.split(block)[0]);\r\n      localBlock = '';\r\n      return;\r\n    }\r\n  }\r\n  function getYear(dateString) {\r\n    return dateString.split('-')[0];\r\n  }\r\n  useEffect(() => {\r\n    if (!film || !localBlock) return <h1>loading...</h1>;\r\n    const { id } = film;\r\n\r\n    async function fetchData(block) {\r\n      try {\r\n        let response;\r\n        if (block === 'cast') {\r\n          response = await fetchActorsByMovieId(id);\r\n        } else if (block === 'reviews') {\r\n          response = await fetchReviewsByMovieId(id);\r\n        } else {\r\n          setBlockData(null);\r\n          return <h1>No cast</h1>;\r\n        }\r\n        if (response.status === 200) {\r\n          setBlockData(response.data);\r\n        } else {\r\n          throw new Error('Error - ' + response.status);\r\n        }\r\n      } catch (error) {\r\n        console.log('rejected   ' + error.message);\r\n        return null;\r\n      }\r\n    }\r\n\r\n    fetchData(block);\r\n  }, [film, block, localBlock]);\r\n\r\n  if (!film) return <h1>loading...</h1>;\r\n  const { id, title, poster_path, popularity, overview, genres, release_date } = film;\r\n  const year = getYear(release_date);\r\n  const genresString = genres.map(({ name }) => name).join(', ');\r\n  console.log(blockData);\r\n  return (\r\n    <div>\r\n      <button className={css._goBackButton} onClick={goBack}>\r\n        Go Back\r\n      </button>\r\n      <section key={id} className={css._infoSection}>\r\n        <h1 className='visually-hidden'>Film info</h1>\r\n        <div className={css._imageWrapper}>\r\n          <img src={'https://image.tmdb.org/t/p/w500' + poster_path} alt={title} className={css._posterImage} />\r\n        </div>\r\n        <div>\r\n          <h2>{`${title} (${year})`}</h2>\r\n          <p>User Score: {popularity.toFixed(0)} %</p>\r\n          <h3>Overview</h3>\r\n          <p>{overview}</p>\r\n          <h4>Genres</h4>\r\n          <p>{genresString}</p>\r\n        </div>\r\n      </section>\r\n      <hr />\r\n      <section>\r\n        <h1>Additional information</h1>\r\n        <ul>\r\n          <li>\r\n            <a href={url + '/cast'} onClick={changeBlock}>\r\n              Cast\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href={url + '/reviews'} onClick={changeBlock}>\r\n              Reviews\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </section>\r\n      <hr />\r\n      <section>\r\n        <Route path={url + '/cast'}>{block === 'cast' && <Cast cast={blockData.cast} />}</Route>\r\n        <Route path={url + '/reviews'}>\r\n          {block === 'reviews' && <Reviews reviews={blockData.results} page={blockData.page} />}\r\n        </Route>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilmInfo;\r\n\r\nFilmInfo.propTypes = {\r\n  film: PropTypes.object,\r\n  pathBack: PropTypes.string,\r\n};\r\n","function NotFoundView() {\r\n  return <h1>404 No such page :(</h1>;\r\n}\r\n\r\nexport default NotFoundView;\r\n","import { useEffect, useState } from 'react';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport FilmInfo from '../components/FilmInfo';\r\nimport { fetchMoviesById } from '../services/api';\r\nimport NotFoundView from './NotFoundView';\r\n\r\nfunction MovieInfoView() {\r\n  const [film, setFilm] = useState(null);\r\n  const [back, setBack] = useState(null);\r\n  const [noPage, setNoPage] = useState(false);\r\n  const filmId = useParams().movieId;\r\n  const location = useLocation();\r\n\r\n  if (parseInt(filmId).toString().length !== filmId.length && !noPage) setNoPage(true);\r\n\r\n  function getPathBack() {\r\n    const { pathback } = location;\r\n    if (!pathback) return back;\r\n    if (pathback !== back) setBack(pathback);\r\n    return pathback ? pathback : '/';\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const response = await fetchMoviesById(parseInt(filmId));\r\n        if (response.status === 200) {\r\n          const { id, title, poster_path, popularity, overview, genres, release_date } = response.data;\r\n          setFilm({ id, title, poster_path, popularity, overview, genres, release_date });\r\n          setNoPage(false);\r\n        } else {\r\n          throw new Error('Error - ' + response.status);\r\n        }\r\n      } catch (error) {\r\n        console.log('rejected   ' + error.message);\r\n        if (error.response && error.response.status === 404) setNoPage(true);\r\n        return null;\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [filmId]);\r\n\r\n  if (noPage) return <NotFoundView />;\r\n  return <div className='container'>{filmId && <FilmInfo film={film} pathBack={getPathBack()} />}</div>;\r\n}\r\n\r\nexport default MovieInfoView;\r\n","import { NavLink } from 'react-router-dom';\r\nimport css from './Navigation.module.css';\r\n\r\nfunction Navigation() {\r\n  return (\r\n    <nav className={css._nav}>\r\n      <NavLink exact to={'/'} className={css._link} activeClassName={css._activeLink}>\r\n        Home\r\n      </NavLink>\r\n      <NavLink to={'/movies'} className={css._link} activeClassName={css._activeLink}>\r\n        Movies\r\n      </NavLink>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","import { Route, Switch } from 'react-router-dom';\r\nimport HomeView from './views/HomeView';\r\nimport MoviesView from './views/MoviesView';\r\nimport MovieInfoView from './views/MovieInfoView';\r\nimport Navigation from './components/Navigation';\r\nimport NotFoundView from './views/NotFoundView';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className='App'>\r\n      <header className='App-header'>\r\n        <Navigation />\r\n      </header>\r\n      <Switch>\r\n        <Route path={'/'} exact>\r\n          <HomeView />\r\n        </Route>\r\n        <Route path={'/movies/:movieId'}>\r\n          <MovieInfoView />\r\n        </Route>\r\n        <Route path={'/movies'}>\r\n          <MoviesView />\r\n        </Route>\r\n        <Route path={'/'}>\r\n          <NotFoundView />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\nreportWebVitals();\n"],"sourceRoot":""}